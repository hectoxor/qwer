#include <bits/stdc++.h>
#define inf 1e9
#define FNAME "A"
#define fi first
#define se second
#define pb push_back
#define ll long long
#define fr front()
#define sz size()
#define em empty()
#define ld long double
#define pr pair<ll,ll>
#define ins insert
using namespace std;
bool isFile = 0;
const ll N=100000+500;
void faster() {
    ios_base::sync_with_stdio(false);
    cin.tie(0);
    cout.tie(0);
    if (isFile) {
        freopen(FNAME".in", "r", stdin);
        freopen(FNAME".out", "w", stdout);
    }
}
ll md = 1e9+7;
ll binpow(ll x,ll n){
    ll res = 1;
    while(n){
        if(n&1){
            res= (res * x) % md;
        }
        x = (x * x)%md;
        n/=2;
    }
    return res;
}
vector <pair<int,int>> g[N];
vector <int> d(N);
int main(){
    faster();
    int n,m,st,en;
    cin>>n>>m>>st>>en;
    
    while(m--){
        int a,b,c;
        cin>>a>>b>>c;
        g[a].pb({b,c});
    }
    for(int i = 1;i<=n;i++){
        d[i] = 1e9;
    }
    d[st] = 0;
    set <pair<int,int>> s;
    s.ins({0,st});
    while(!s.em){
        int v = (*s.begin()).se;
        s.erase(s.begin());
        for(auto x:g[v]){
            if(d[x.fi] > d[v] + x.se){
                s.erase({d[x.fi],x.fi});
                d[x.fi] = d[v] + x.se;
                s.ins({d[x.fi] , x.fi});
            }
        }
    }
    if(d[en] == 1e9){
        cout<<-1;
        return 0;
    }
    cout<<d[en];


} 
